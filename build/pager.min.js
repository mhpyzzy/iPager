!function(t,e,s,i){var n=function(t,e){var i={recoreds:100,pagerSize:20,curPager:1,firstText:"首页",firstIcon:"",prevText:"上一页",prevIcon:"",nextText:"下一页",nextIcon:"",lastText:"尾页",lastIcon:"",style:{container:{},list:{}},source:["test1","test2"],success:function(){console.log("success!")}};this.$ele=t,this.setting=s.extend({},i,e)};n.prototype={constructor:n,init:function(){this.setting.totalPage=Math.ceil(this.setting.recoreds/this.setting.pagerSize),this.initInstance();var t=this,e="pager"+(new Date).valueOf();return this.$ele.each(function(){var i=s(this);t.renderHtml(i,e),t.setting.totalPage<=1&&i.find("li").addClass("disable"),i.find(".pager_first").on("click",function(){t.setting.gotoPage=1,t.changeStyle(s(this))}),i.find(".pager_prev").on("click",function(){t.setting.gotoPage--,t.changeStyle(s(this))}),i.find(".pager_next").on("click",function(){t.setting.gotoPage++,t.changeStyle(s(this))}),i.find(".pager_last").on("click",function(){t.setting.gotoPage=t.setting.totalPage,t.changeStyle(s(this))}),i.find(".pager_go_btn").on("click",function(){s(this).parent().siblings().removeClass("disable");var e=s(this).siblings().val(),i=e>=t.setting.totalPage?t.setting.totalPage:e<1?1:e;s(this).siblings().val(i),t.setting.gotoPage=i,1==t.setting.gotoPage&&s(this).parent().siblings(".left").addClass("disable"),t.setting.gotoPage==t.setting.totalPage&&s(this).parent().siblings(".right").addClass("disable")})})},renderHtml:function(t,e){var s=(t.height(),"     <div id='"+e+"' class='pager_container'>       <ul >            <li class='left pager_first'><i class='iconfont "+this.setting.firstIcon+"'></i><span class='text'>"+this.setting.firstText+"</span></li>            <li class='left pager_prev'><i class='iconfont "+this.setting.prevIcon+"'></i><span class='text'>"+this.setting.prevText+"</span></li>            <li class='right pager_next'><span class='text'>"+this.setting.nextText+"</span><i class='iconfont "+this.setting.nextIcon+"'></i></li>            <li class='right pager_last'><span class='text'>"+this.setting.lastText+"</span><i class='iconfont "+this.setting.lastIcon+"'></i></li>            <li class='pager_go'>                <input type='text' name='' value='1'/>                <input class='pager_go_btn' type='button' value='GO'/>            </li>            <li class='pager_title'><span class='pager_title_curPage'>"+this.setting.curPager+"</span>&nbsp;&frasl;&nbsp;<span>"+this.setting.totalPage+"</span></li>        </ul>      </div>");t.append(s)},initInstance:function(){var t=this;Object.defineProperty(this.setting,"gotoPage",{get:function(){return this.curPager},set:function(e){this.curPager=e,t.$ele.find(".pager_title_curPage").text(e),this.success(t.getData())}})},changeStyle:function(t){if(!t.hasClass("disable")){t.parent().children().removeClass("disable");var e=t.attr("class").split(" ")[0];("left"==e&&this.setting.curPager<=1||"right"==e&&this.setting.curPager>=this.setting.totalPage)&&t.parent().children("."+e).addClass("disable")}},getData:function(){var t=null,e=[(this.setting.curPager-1)*this.setting.pagerSize,this.setting.curPager*this.setting.pagerSize],s=Object.prototype.toString.call(this.setting.source).replace(/(\[object\s)|\]/g,"");return"Array"==s?t=this.setting.source.slice(e[0],e[1]):"Function"==s?t=this.setting.source(e):console.log("数据源错误，请检查！【目前支持Array/Function】"),t}},s.fn.Pager=function(t){return new n(this,t).init()}}(window,document,jQuery);